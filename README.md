# rust-6502-sim
Emulate a 6502 processor  Learning rust the wrong way!

Abstractions:
- Bus
- BusDevice
- Processor
- Memory: BusDevice
- Instruction
- InternalOperation

The two BusDevice's implemented are the Proc6502 and Memory.

Instructions Implemented
- NOP
- JMP $ 
- LDA #
- STA $

I am using this [low level 6502 instruction set document](https://www.nesdev.com/6502_cpu.txt) as a guide.

<table class="instrlayout" aria-label="table representing a complex view on the instruction layout according to components a, b, c.">
<colgroup>
	<col class="bits-c"/>
	<col class="bits-a"/>
	<col span="8" class="bits-b"/>
</colgroup>
<thead>
<tr><th scope="col" rowspan="2">c</th><th rowspan="2" scope="col" title="3 bits">a</th><th colspan="8" scope="colgroup">b</th></tr>
<tr class="bn b"><th scope="col">0</th><th scope="col">1</th><th scope="col">2</th><th scope="col">3</th><th scope="col">4</th><th scope="col">5</th><th scope="col">6</th><th scope="col">7</th></tr>
</thead>
<tbody>
<tr class="r1 r-even g-first"><th scope="rowgroup" rowspan="8" class="c c0">0</th><th scope="row" class="a a-b">0</th><td class="v0"><span class="opc">00</span>BRK impl</td><td class="v1"></td><td class="v2"><span class="opc">$08</span>PHP impl</td><td class="v3"></td><td class="v4"><span class="opc">$10</span>BPL rel</td><td class="v5"></td><td class="v6"><span class="opc">$18</span>CLC impl</td><td class="v7"></td></tr>
<tr class="r1 r-odd"><th scope="row" class="a a-b">1</th><td class="v0"><span class="opc">$20</span>JSR abs</td><td class="v1"><span class="opc">$24</span>BIT zpg</td><td class="v2"><span class="opc">$28</span>PLP impl</td><td class="v3"><span class="opc">$2C</span>BIT abs</td><td class="v4"><span class="opc">$30</span>BMI rel</td><td class="v5"></td><td class="v6"><span class="opc">$38</span>SEC impl</td><td class="v7"></td></tr>
<tr class="r1 r-even"><th scope="row" class="a a-b">2</th><td class="v0"><span class="opc">$40</span>RTI impl</td><td class="v1"></td><td class="v2"><span class="opc">$48</span>PHA impl</td><td class="v3"><span class="opc">$4C</span>JMP abs</td><td class="v4"><span class="opc">$50</span>BVC rel</td><td class="v5"></td><td class="v6"><span class="opc">$58</span>CLI impl</td><td class="v7"></td></tr>
<tr class="r1 r-odd"><th scope="row" class="a a-b">3</th><td class="v0"><span class="opc">$60</span>RTS impl</td><td class="v1"></td><td class="v2"><span class="opc">$68</span>PLA impl</td><td class="v3"><span class="opc">$6C</span>JMP ind</td><td class="v4"><span class="opc">$70</span>BVS rel</td><td class="v5"></td><td class="v6"><span class="opc">$78</span>SEI impl</td><td class="v7"></td></tr>
<tr class="r1 r-even"><th scope="row" class="a a-b">4</th><td class="v0"></td><td class="v1"><span class="opc">$84</span>STY zpg</td><td class="v2"><span class="opc">$88</span>DEY impl</td><td class="v3"><span class="opc">$8C</span>STY abs</td><td class="v4"><span class="opc">$90</span>BCC rel</td><td class="v5"><span class="opc">$94</span>STY zpg,X</td><td class="v6"><span class="opc">$98</span>TYA impl</td><td class="v7"></td></tr>
<tr class="r1 r-odd"><th scope="row" class="a a-b">5</th><td class="v0"><span class="opc">$A0</span>LDY  #</td><td class="v1"><span class="opc">$A4</span>LDY zpg</td><td class="v2"><span class="opc">$A8</span>TAY impl</td><td class="v3"><span class="opc">$AC</span>LDY abs</td><td class="v4"><span class="opc">$B0</span>BCS rel</td><td class="v5"><span class="opc">$B4</span>LDY zpg,X</td><td class="v6"><span class="opc">$B8</span>CLV impl</td><td class="v7"><span class="opc">$BC</span>LDY abs,X</td></tr>
<tr class="r1 r-even"><th scope="row" class="a a-b">6</th><td class="v0"><span class="opc">$C0</span>CPY  #</td><td class="v1"><span class="opc">$C4</span>CPY zpg</td><td class="v2"><span class="opc">$C8</span>INY impl</td><td class="v3"><span class="opc">$CC</span>CPY abs</td><td class="v4"><span class="opc">$D0</span>BNE rel</td><td class="v5"></td><td class="v6"><span class="opc">$D8</span>CLD impl</td><td class="v7"></td></tr>
<tr class="r1 r-odd g-last"><th scope="row" class="a a-b">7</th><td class="v0"><span class="opc">$E0</span>CPX  #</td><td class="v1"><span class="opc">$E4</span>CPX zpg</td><td class="v2"><span class="opc">$E8</span>INX impl</td><td class="v3"><span class="opc">$EC</span>CPX abs</td><td class="v4"><span class="opc">$F0</span>BEQ rel</td><td class="v5"></td><td class="v6"><span class="opc">$F8</span>SED impl</td><td class="v7"></td></tr>
<tr class="r1 r-even g-first"><td scope="rowgroup" rowspan="8" class="c c1">1</td><th scope="row" class="a a-b">0</th><td class="v0"><span class="opc">$01</span>ORA X,ind</td><td class="v1"><span class="opc">$05</span>ORA zpg</td><td class="v2"><span class="opc">$09</span>ORA  #</td><td class="v3"><span class="opc">$0D</span>ORA abs</td><td class="v4"><span class="opc">$11</span>ORA ind,Y</td><td class="v5"><span class="opc">$15</span>ORA zpg,X</td><td class="v6"><span class="opc">$19</span>ORA abs,Y</td><td class="v7"><span class="opc">$1D</span>ORA abs,X</td></tr>
<tr class="r1 r-odd"><th scope="row" class="a a-b">1</th><td class="v0"><span class="opc">$21</span>AND X,ind</td><td class="v1"><span class="opc">$25</span>AND zpg</td><td class="v2"><span class="opc">$29</span>AND  #</td><td class="v3"><span class="opc">$2D</span>AND abs</td><td class="v4"><span class="opc">$31</span>AND ind,Y</td><td class="v5"><span class="opc">$35</span>AND zpg,X</td><td class="v6"><span class="opc">$39</span>AND abs,Y</td><td class="v7"><span class="opc">$3D</span>AND abs,X</td></tr>
<tr class="r1 r-even"><th scope="row" class="a a-b">2</th><td class="v0"><span class="opc">$41</span>EOR X,ind</td><td class="v1"><span class="opc">$45</span>EOR zpg</td><td class="v2"><span class="opc">$49</span>EOR  #</td><td class="v3"><span class="opc">$4D</span>EOR abs</td><td class="v4"><span class="opc">$51</span>EOR ind,Y</td><td class="v5"><span class="opc">$55</span>EOR zpg,X</td><td class="v6"><span class="opc">$59</span>EOR abs,Y</td><td class="v7"><span class="opc">$5D</span>EOR abs,X</td></tr>
<tr class="r1 r-odd"><th scope="row" class="a a-b">3</th><td class="v0"><span class="opc">$61</span>ADC X,ind</td><td class="v1"><span class="opc">$65</span>ADC zpg</td><td class="v2"><span class="opc">$69</span>ADC  #</td><td class="v3"><span class="opc">$6D</span>ADC abs</td><td class="v4"><span class="opc">$71</span>ADC ind,Y</td><td class="v5"><span class="opc">$75</span>ADC zpg,X</td><td class="v6"><span class="opc">$79</span>ADC abs,Y</td><td class="v7"><span class="opc">$7D</span>ADC abs,X</td></tr>
<tr class="r1 r-even"><th scope="row" class="a a-b">4</th><td class="v0"><span class="opc">$81</span>STA X,ind</td><td class="v1"><span class="opc">$85</span>STA zpg</td><td class="v2"></td><td class="v3"><span class="opc">$8D</span>STA abs</td><td class="v4"><span class="opc">$91</span>STA ind,Y</td><td class="v5"><span class="opc">$95</span>STA zpg,X</td><td class="v6"><span class="opc">$99</span>STA abs,Y</td><td class="v7"><span class="opc">$9D</span>STA abs,X</td></tr>
<tr class="r1 r-odd"><th scope="row" class="a a-b">5</th><td class="v0"><span class="opc">$A1</span>LDA X,ind</td><td class="v1"><span class="opc">$A5</span>LDA zpg</td><td class="v2"><span class="opc">$A9</span>LDA  #</td><td class="v3"><span class="opc">$AD</span>LDA abs</td><td class="v4"><span class="opc">$B1</span>LDA ind,Y</td><td class="v5"><span class="opc">$B5</span>LDA zpg,X</td><td class="v6"><span class="opc">$B9</span>LDA abs,Y</td><td class="v7"><span class="opc">$BD</span>LDA abs,X</td></tr>
<tr class="r1 r-even"><th scope="row" class="a a-b">6</th><td class="v0"><span class="opc">$C1</span>CMP X,ind</td><td class="v1"><span class="opc">$C5</span>CMP zpg</td><td class="v2"><span class="opc">$C9</span>CMP  #</td><td class="v3"><span class="opc">$CD</span>CMP abs</td><td class="v4"><span class="opc">$D1</span>CMP ind,Y</td><td class="v5"><span class="opc">$D5</span>CMP zpg,X</td><td class="v6"><span class="opc">$D9</span>CMP abs,Y</td><td class="v7"><span class="opc">$DD</span>CMP abs,X</td></tr>
<tr class="r1 r-odd g-last"><th scope="row" class="a a-b">7</th><td class="v0"><span class="opc">$E1</span>SBC X,ind</td><td class="v1"><span class="opc">$E5</span>SBC zpg</td><td class="v2"><span class="opc">$E9</span>SBC  #</td><td class="v3"><span class="opc">$ED</span>SBC abs</td><td class="v4"><span class="opc">$F1</span>SBC ind,Y</td><td class="v5"><span class="opc">$F5</span>SBC zpg,X</td><td class="v6"><span class="opc">$F9</span>SBC abs,Y</td><td class="v7"><span class="opc">$FD</span>SBC abs,X</td></tr>
<tr class="r1 r-even g-first"><td scope="rowgroup" rowspan="8" class="c c2">2</td><th scope="row" class="a a-b">0</th><td class="v0"></td><td class="v1"><span class="opc">$06</span>ASL zpg</td><td class="v2"><span class="opc">$0A</span>ASL  A</td><td class="v3"><span class="opc">$0E</span>ASL abs</td><td class="v4"></td><td class="v5"><span class="opc">$16</span>ASL zpg,X</td><td class="v6"></td><td class="v7"><span class="opc">$1E</span>ASL abs,X</td></tr>
<tr class="r1 r-odd"><th scope="row" class="a a-b">1</th><td class="v0"></td><td class="v1"><span class="opc">$26</span>ROL zpg</td><td class="v2"><span class="opc">$2A</span>ROL  A</td><td class="v3"><span class="opc">$2E</span>ROL abs</td><td class="v4"></td><td class="v5"><span class="opc">$36</span>ROL zpg,X</td><td class="v6"></td><td class="v7"><span class="opc">$3E</span>ROL abs,X</td></tr>
<tr class="r1 r-even"><th scope="row" class="a a-b">2</th><td class="v0"></td><td class="v1"><span class="opc">$46</span>LSR zpg</td><td class="v2"><span class="opc">$4A</span>LSR  A</td><td class="v3"><span class="opc">$4E</span>LSR abs</td><td class="v4"></td><td class="v5"><span class="opc">$56</span>LSR zpg,X</td><td class="v6"></td><td class="v7"><span class="opc">$5E</span>LSR abs,X</td></tr>
<tr class="r1 r-odd"><th scope="row" class="a a-b">3</th><td class="v0"></td><td class="v1"><span class="opc">$66</span>ROR zpg</td><td class="v2"><span class="opc">$6A</span>ROR  A</td><td class="v3"><span class="opc">$6E</span>ROR abs</td><td class="v4"></td><td class="v5"><span class="opc">$76</span>ROR zpg,X</td><td class="v6"></td><td class="v7"><span class="opc">$7E</span>ROR abs,X</td></tr>
<tr class="r1 r-even"><th scope="row" class="a a-b">4</th><td class="v0"></td><td class="v1"><span class="opc">$86</span>STX zpg</td><td class="v2"><span class="opc">$8A</span>TXA impl</td><td class="v3"><span class="opc">$8E</span>STX abs</td><td class="v4"></td><td class="v5"><span class="opc">$96</span>STX zpg,Y</td><td class="v6"><span class="opc">$9A</span>TXS impl</td><td class="v7"></td></tr>
<tr class="r1 r-odd"><th scope="row" class="a a-b">5</th><td class="v0"><span class="opc">$A2</span>LDX  #</td><td class="v1"><span class="opc">$A6</span>LDX zpg</td><td class="v2"><span class="opc">$AA</span>TAX impl</td><td class="v3"><span class="opc">$AE</span>LDX abs</td><td class="v4"></td><td class="v5"><span class="opc">$B6</span>LDX zpg,Y</td><td class="v6"><span class="opc">$BA</span>TSX impl</td><td class="v7"><span class="opc">$BE</span>LDX abs,Y</td></tr>
<tr class="r1 r-even"><th scope="row" class="a a-b">6</th><td class="v0"></td><td class="v1"><span class="opc">$C6</span>DEC zpg</td><td class="v2"><span class="opc">$CA</span>DEX impl</td><td class="v3"><span class="opc">$CE</span>DEC abs</td><td class="v4"></td><td class="v5"><span class="opc">$D6</span>DEC zpg,X</td><td class="v6"></td><td class="v7"><span class="opc">$DE</span>DEC abs,X</td></tr>
<tr class="r1 r-odd g-last"><th scope="row" class="a a-b">7</th><td class="v0"></td><td class="v1"><span class="opc">$E6</span>INC zpg</td><td class="v2"><span class="opc">$EA</span>NOP impl</td><td class="v3"><span class="opc">$EE</span>INC abs</td><td class="v4"></td><td class="v5"><span class="opc">$F6</span>INC zpg,X</td><td class="v6"></td><td class="v7"><span class="opc">$FE</span>INC abs,X</td></tr>
</tbody>
</table>